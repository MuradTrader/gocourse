## **Часть 1: Базовые форматные глаголы для любых типов**

### Код 1: `%v` и `%#v` - значения в разных форматах

```go
package main

import "fmt"

func main() {
    // Пример с float
    floatVar := 15.5
    fmt.Println("=== ДЛЯ FLOAT ===")
    fmt.Printf("%%v: %v\n", floatVar)      // Вывод: %v: 15.5
    fmt.Printf("%%#v: %#v\n", floatVar)    // Вывод: %#v: 15.5
    fmt.Printf("%%T: %T\n", floatVar)      // Вывод: %T: float64
    fmt.Printf("%%%%: %%\n")               // Вывод: %%

    // Пример с string
    stringVar := "Hello world"
    fmt.Println("\n=== ДЛЯ STRING ===")
    fmt.Printf("%%v: %v\n", stringVar)     // Вывод: %v: Hello world
    fmt.Printf("%%#v: %#v\n", stringVar)   // Вывод: %#v: "Hello world"
    fmt.Printf("%%T: %T\n", stringVar)     // Вывод: %T: string

    // Пример с bool
    boolVar := true
    fmt.Println("\n=== ДЛЯ BOOL ===")
    fmt.Printf("%%v: %v\n", boolVar)       // Вывод: %v: true
    fmt.Printf("%%#v: %#v\n", boolVar)     // Вывод: %#v: true
    fmt.Printf("%%T: %T\n", boolVar)       // Вывод: %T: bool
}
```

**Что происходит под капотом:**

1. `%v` - **формат по умолчанию**:

   - Для чисел: просто выводит число
   - Для строк: выводит без кавычек
   - Для булевых: выводит `true` или `false`

2. `%#v` - **синтаксис Go**:

   - Для чисел: то же самое
   - Для строк: добавляет кавычки `"Hello world"`
   - Это то, как бы вы написали это значение в коде Go

3. `%T` - **тип переменной**:

   - Go во время выполнения знает тип каждой переменной
   - Этот глагол получает информацию о типе из внутреннего представления переменной

4. `%%` - **вывод знака процента**:
   - В форматной строке `%` специальный символ
   - Чтобы вывести сам `%`, нужно написать `%%`

## **Часть 2: Целые числа (int) - все форматы**

### Код 2: Разные форматы для целых чисел

```go
package main

import "fmt"

func main() {
    num := 18
    fmt.Println("=== ФОРМАТЫ ДЛЯ ЧИСЛА 18 ===")

    // Двоичная система (base 2)
    fmt.Printf("%%b: %b\n", num)           // Вывод: %b: 10010
    // Объяснение: 18 в двоичной = 1×16 + 0×8 + 0×4 + 1×2 + 0×1 = 10010

    // Десятичная система (base 10)
    fmt.Printf("%%d: %d\n", num)           // Вывод: %d: 18

    // Десятичная с знаком
    fmt.Printf("%%+d: %+d\n", num)         // Вывод: %+d: +18
    fmt.Printf("%%+d для -18: %+d\n", -18) // Вывод: %+d для -18: -18

    // Восьмеричная система (base 8)
    fmt.Printf("%%o: %o\n", num)           // Вывод: %o: 22
    // Объяснение: 18 в восьмеричной = 2×8 + 2×1 = 22

    // Восьмеричная с префиксом 0
    fmt.Printf("%%O: %O\n", num)           // Вывод: %O: 0o22
    // Префикс 0o говорит "это восьмеричное число"

    // Шестнадцатеричная система (base 16)
    fmt.Printf("%%x: %x\n", num)           // Вывод: %x: 12
    fmt.Printf("%%X: %X\n", num)           // Вывод: %X: 12
    // Объяснение: 18 в шестнадцатеричной = 1×16 + 2×1 = 12

    // Шестнадцатеричная с префиксом 0x
    fmt.Printf("%%#x: %#x\n", num)         // Вывод: %#x: 0x12

    // Ширина поля
    fmt.Printf("%%4d: '%4d'\n", num)       // Вывод: %4d: '  18'
    fmt.Printf("%%-4d: '%-4d'\n", num)     // Вывод: %-4d: '18  '
    fmt.Printf("%%04d: '%04d'\n", num)     // Вывод: %04d: '0018'

    // Пример с большим числом для шестнадцатеричной системы
    bigNum := 255
    fmt.Println("\n=== ДЛЯ ЧИСЛА 255 ===")
    fmt.Printf("%%x: %x\n", bigNum)        // Вывод: %x: ff
    fmt.Printf("%%X: %X\n", bigNum)        // Вывод: %X: FF
    fmt.Printf("%%#x: %#x\n", bigNum)      // Вывод: %#x: 0xff
    fmt.Printf("%%#X: %#X\n", bigNum)      // Вывод: %#X: 0XFF
}
```

**Что происходит под капотом:**

1. Системы счисления:

   - `%b` - Go преобразует число в двоичную строку
   - `%o` - преобразует в восьмеричную
   - `%x`, `%X` - преобразует в шестнадцатеричную (строчные/заглавные)

2. Префиксы:

   - `%#o` → `0o22` (восьмеричное с префиксом)
   - `%#x` → `0x12` (шестнадцатеричное с префиксом)

3. Ширина и выравнивание:
   - `%4d` - минимум 4 символа, выравнивание по правому краю
   - `%-4d` - минимум 4 символа, выравнивание по левому краю
   - `%04d` - минимум 4 символа, заполнение нулями слева

## **Часть 3: Строки - специальные форматы**

### Код 3: Форматы для строк

```go
package main

import "fmt"

func main() {
    str := "world"
    fmt.Println("=== ФОРМАТЫ ДЛЯ СТРОКИ 'world' ===")

    // Простая строка
    fmt.Printf("%%s: %s\n", str)           // Вывод: %s: world

    // Строка в кавычках (Go-синтаксис)
    fmt.Printf("%%q: %q\n", str)           // Вывод: %q: "world"

    // Ширина поля для строки
    fmt.Printf("%%8s: '%8s'\n", str)       // Вывод: %8s: '   world'
    fmt.Printf("%%-8s: '%-8s'\n", str)     // Вывод: %-8s: 'world   '

    // Шестнадцатеричное представление байтов
    fmt.Printf("%%x: %x\n", str)           // Вывод: %x: 776f726c64
    // Объяснение: каждый байт в hex:
    // 'w' = 0x77, 'o' = 0x6f, 'r' = 0x72, 'l' = 0x6c, 'd' = 0x64

    // Шестнадцатеричное с пробелами
    fmt.Printf("%% x: % x\n", str)         // Вывод: % x: 77 6f 72 6c 64

    // Верхний регистр для hex
    fmt.Printf("%%X: %X\n", str)           // Вывод: %X: 776F726C64

    // Пример с русской строкой
    ruStr := "Привет"
    fmt.Println("\n=== ДЛЯ РУССКОЙ СТРОКИ 'Привет' ===")
    fmt.Printf("%%s: %s\n", ruStr)         // Вывод: %s: Привет
    fmt.Printf("%%q: %q\n", ruStr)         // Вывод: %q: "Привет"
    fmt.Printf("%%x: %x\n", ruStr)         // Вывод: %x: d09fd180d0b8d0b2d0b5d182
    fmt.Printf("%% x: % x\n", ruStr)       // Вывод: % x: d0 9f d1 80 d0 b8 d0 b2 d0 b5 d1 82
}
```

**Что происходит под капотом:**

1. `%s` - просто выводит строку как есть
2. `%q` - экранирует специальные символы и добавляет кавычки
3. `%x` - преобразует КАЖДЫЙ БАЙТ строки в шестнадцатеричный
   - Важно: для UTF-8 это дает байтовое представление
4. `% x` - то же самое, но с пробелами между байтами

## **Часть 4: Числа с плавающей точкой (float)**

### Код 4: Форматы для float

```go
package main

import "fmt"

func main() {
    // Меньшее число
    smallFloat := 9.18
    fmt.Println("=== ДЛЯ ЧИСЛА 9.18 ===")

    // Научная нотация
    fmt.Printf("%%e: %e\n", smallFloat)    // Вывод: %e: 9.180000e+00
    // Объяснение: 9.18 × 10^0

    // Десятичная нотация
    fmt.Printf("%%f: %f\n", smallFloat)    // Вывод: %f: 9.180000
    fmt.Printf("%%.2f: %.2f\n", smallFloat)// Вывод: %.2f: 9.18

    // Ширина и точность
    fmt.Printf("%%6.2f: '%6.2f'\n", smallFloat)  // Вывод: %6.2f: '  9.18'
    // Объяснение: всего 6 символов, 2 после точки

    // Компактная запись (автовыбор)
    fmt.Printf("%%g: %g\n", smallFloat)    // Вывод: %g: 9.18

    // Большое число
    bigFloat := 9180000.0
    fmt.Println("\n=== ДЛЯ ЧИСЛА 9180000 ===")
    fmt.Printf("%%e: %e\n", bigFloat)      // Вывод: %e: 9.180000e+06
    fmt.Printf("%%f: %f\n", bigFloat)      // Вывод: %f: 9180000.000000
    fmt.Printf("%%.2f: %.2f\n", bigFloat)  // Вывод: %.2f: 9180000.00
    fmt.Printf("%%g: %g\n", bigFloat)      // Вывод: %g: 9.18e+06

    // Очень маленькое число
    tinyFloat := 0.000123
    fmt.Println("\n=== ДЛЯ ЧИСЛА 0.000123 ===")
    fmt.Printf("%%e: %e\n", tinyFloat)     // Вывод: %e: 1.230000e-04
    fmt.Printf("%%f: %f\n", tinyFloat)     // Вывод: %f: 0.000123
    fmt.Printf("%%g: %g\n", tinyFloat)     // Вывод: %g: 0.000123

    // Число с шириной
    fmt.Println("\n=== ШИРИНА ПОЛЯ ===")
    fmt.Printf("'%10.3f'\n", 123.4567)     // Вывод: '   123.457'
    fmt.Printf("'%-10.3f'\n", 123.4567)    // Вывод: '123.457   '
    fmt.Printf("'%010.3f'\n", 123.4567)    // Вывод: '000123.457'
}
```

**Что происходит под капотом:**

1. `%e` - научная нотация:

   - `9.180000e+00` = 9.18 × 10^0
   - `9.180000e+06` = 9.18 × 10^6
   - `1.230000e-04` = 1.23 × 10^-4

2. `%f` - десятичная нотация:

   - По умолчанию 6 знаков после точки
   - `%.2f` - только 2 знака после точки

3. `%g` - "умный" выбор:

   - Для маленьких чисел: использует `%f`
   - Для больших чисел: использует `%e`

4. Ширина и точность:
   - `%10.3f` - всего 10 символов, 3 после точки
   - `%-10.3f` - выравнивание по левому краю
   - `%010.3f` - заполнение нулями

## **Часть 5: Булевы значения (bool)**

### Код 5: Форматы для bool

```go
package main

import "fmt"

func main() {
    t := true
    f := false

    fmt.Println("=== ФОРМАТЫ ДЛЯ BOOL ===")

    // Специальный формат для bool
    fmt.Printf("%%t для true: %t\n", t)    // Вывод: %t для true: true
    fmt.Printf("%%t для false: %t\n", f)   // Вывод: %t для false: false

    // Общие форматы тоже работают
    fmt.Printf("%%v для true: %v\n", t)    // Вывод: %v для true: true
    fmt.Printf("%%v для false: %v\n", f)   // Вывод: %v для false: false

    fmt.Printf("%%#v для true: %#v\n", t)  // Вывод: %#v для true: true
    fmt.Printf("%%#v для false: %#v\n", f) // Вывод: %#v для false: false

    fmt.Printf("%%T для true: %T\n", t)    // Вывод: %T для true: bool
    fmt.Printf("%%T для false: %T\n", f)   // Вывод: %T для false: bool

    // Можно использовать в условиях
    var b bool
    b = 10 > 5
    fmt.Printf("\n10 > 5 = %t\n", b)       // Вывод: 10 > 5 = true

    b = 10 < 5
    fmt.Printf("10 < 5 = %t\n", b)         // Вывод: 10 < 5 = false
}
```

**Что происходит под капотом:**

1. `%t` - специальный формат для bool
2. `%v` и `%#v` работают одинаково для bool
3. Внутренне bool хранится как 1 байт (true = 1, false = 0)

## **Часть 6: Полезные трюки и подсказки**

### Код 6: Практические примеры

```go
package main

import "fmt"

func main() {
    fmt.Println("=== ПОЛЕЗНЫЕ ПРИМЕРЫ ===")

    // 1. Чтение чисел с подчеркиванием (для удобства)
    bigNumber := 1_000_000_005
    fmt.Printf("Большое число: %d\n", bigNumber)  // Вывод: 1000000005
    fmt.Printf("В hex: 0x%x\n", bigNumber)        // Вывод: 0x3b9aca05

    // 2. Вывод нескольких значений
    name := "Alice"
    age := 30
    height := 1.75
    fmt.Printf("\nИмя: %s, Возраст: %d, Рост: %.2fм\n",
        name, age, height)
    // Вывод: Имя: Alice, Возраст: 30, Рост: 1.75м

    // 3. Вывод в таблице
    fmt.Println("\n=== ТАБЛИЦА ===")
    fmt.Printf("%-10s %-10s %-10s\n", "Имя", "Возраст", "Зарплата")
    fmt.Printf("%-10s %-10d $%-9.2f\n", "Alice", 30, 50000.50)
    fmt.Printf("%-10s %-10d $%-9.2f\n", "Bob", 25, 45000.00)
    fmt.Printf("%-10s %-10d $%-9.2f\n", "Charlie", 35, 55000.75)
    /* Вывод:
    Имя       Возраст   Зарплата
    Alice     30        $50000.50
    Bob       25        $45000.00
    Charlie   35        $55000.75
    */

    // 4. Шестнадцатеричный дамп (полезно для отладки)
    data := []byte("Hello")
    fmt.Println("\n=== HEX DUMP ===")
    fmt.Printf("Данные: %x\n", data)        // Вывод: 48656c6c6f
    fmt.Printf("С пробелами: % x\n", data)  // Вывод: 48 65 6c 6c 6f

    // 5. Процентное представление
    progress := 0.7563
    fmt.Printf("\nПрогресс: %.1f%%\n", progress * 100)  // Вывод: Прогресс: 75.6%

    // 6. Вывод указателей
    x := 42
    ptr := &x
    fmt.Printf("\nЗначение: %d, Адрес: %p\n", x, ptr)  // Вывод: Значение: 42, Адрес: 0x...
}
```

## **Часть 7: Что происходит под капотом**

### Код 7: Как работают форматные глаголы внутри

```go
package main

import "fmt"

func main() {
    // Когда вы пишете fmt.Printf("%d", 42), вот что происходит:

    // 1. Go анализирует строку формата
    //    Находит %d

    // 2. Определяет тип аргумента (int)

    // 3. Преобразует число в строку
    //    Внутренне: вызывает функцию formatInt

    // 4. Собирает итоговую строку

    // Пример с разными типами:
    fmt.Println("\n=== ВНУТРЕННЕЕ ПРЕОБРАЗОВАНИЕ ===")

    // Для %v Go использует рефлексию (reflect package)
    // чтобы определить как выводить значение

    var value interface{} = "Hello"
    fmt.Printf("Тип интерфейса: %T\n", value)  // Вывод: string

    value = 42
    fmt.Printf("Тип интерфейса: %T\n", value)  // Вывод: int

    // Для составных типов
    arr := [3]int{1, 2, 3}
    fmt.Printf("Массив: %v\n", arr)            // Вывод: [1 2 3]
    fmt.Printf("Массив (Go-синтаксис): %#v\n", arr)  // Вывод: [3]int{1, 2, 3}

    // Слайс
    slice := []int{1, 2, 3}
    fmt.Printf("Слайс: %v\n", slice)           // Вывод: [1 2 3]
    fmt.Printf("Слайс (Go-синтаксис): %#v\n", slice)  // Вывод: []int{1, 2, 3}
}
```

## **Шпаргалка по основным глаголам:**

```
ОБЩИЕ:
  %v  - значение в формате по умолчанию
  %#v - значение в синтаксисе Go
  %T  - тип переменной
  %%  - знак процента

ЦЕЛЫЕ ЧИСЛА:
  %b  - двоичная система
  %d  - десятичная система
  %o  - восьмеричная система
  %x  - шестнадцатеричная (a-f строчные)
  %X  - шестнадцатеричная (A-F заглавные)
  %#x - 0x12 (с префиксом)

  Ширина:
  %4d  - минимум 4 символа, справа
  %-4d - минимум 4 символа, слева
  %04d - минимум 4 символа, нули слева

СТРОКИ:
  %s  - строка как есть
  %q  - строка в кавычках
  %x  - hex дамп байтов
  % x - hex дамп с пробелами

  Ширина:
  %8s  - минимум 8 символов, справа
  %-8s - минимум 8 символов, слева

FLOAT:
  %e  - научная нотация (1.23e+02)
  %f  - десятичная (123.45)
  %.2f - 2 знака после точки
  %g  - компактная запись

  Ширина и точность:
  %8.2f - всего 8 символов, 2 после точки

BOOL:
  %t - true/false
```

**Главный вывод:** Форматные глаголы в Go — это мощный инструмент для контроля вывода. Они работают на уровне пакета `fmt` и используют рефлексию для определения типов и форматирования значений.
